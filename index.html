<html>

<head>
    <title>Portfoli-O-Meter</title>
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=PT+Sans+Narrow&display=swap"
        rel="stylesheet">


</head>

<body>
    <div class="banner">
        <h1 class="logo">Portfoli-O-Meter</h1>
        <h2 class="logo2">Enhance Your Portfolio like a Pro!</h2>
        <div class="container">
            <div class="box1">
                <h2 class="logo3">Upload your Resume here to get it graded!</h2>
                <h3 class="logo3">------------------------------------ </h3>
                <input type="file" id="fileInput" />
            </div>
            <div class="container2">
                <div class="box2">
                    <h2 class="logo4">Your results will load here!</h2>
                    <p id="result"></p>
                </div>
                <div class="container3">
                    <div class="box3">
                        <h2 class="logo5">Made By: </h2>
                        <h3 class="logo6">Omar Abouzied</h3>
                        <h3 class="logo7">Youssef Abouzied</h3>
                        <h3 class="logo8">Anudev Gill</h3>
                        <h3 class="logo9">Saad Koker</h3>
                    </div>
                </div>
            </div>
            <script src="https://mozilla.github.io/pdf.js/build/pdf.js"></script>
            <script>
                const openaiApiKey = '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';
                
                var pdfText;
                async function parsePdf(dataBuffer) {
                    const pdfjsLib = window['pdfjs-dist/build/pdf'];
                    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://mozilla.github.io/pdf.js/build/pdf.worker.js';
                    const pdf = await pdfjsLib.getDocument({ data: dataBuffer }).promise;
                    let pdfText = '';
                    for (let i = 1; i <= pdf.numPages; i++) {
                        const page = await pdf.getPage(i);
                        const textContent = await page.getTextContent();
                        const text = textContent.items.map(item => item.str).join(' ');
                        pdfText += text + '\n';
                    }
                    return pdfText;
                }

                async function generateResponse(prompt) {
                    const response = await fetch('https://api.openai.com/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${openaiApiKey}`
                        },
                        body: JSON.stringify({
                            model: "gpt-3.5-turbo",
                            messages: prompt,
                        })
                    });
                    const data = await response.json();
                    console.log(data.choices[0].message.content)
                    return data.choices[0].message.content;
                }

                document.getElementById('fileInput').addEventListener('change', async (event) => {
                    const file = event.target.files[0];
                    const reader = new FileReader();
                    reader.onload = async (event) => {
                        const dataBuffer = event.target.result;
                        const pdfText = await parsePdf(dataBuffer);
                        console.log(pdfText);

                        const message = `Pretend you are a Google recruiter and provide constructive criticism to the following resume: ${pdfText}`;
                        console.log(message)
                        const prompt = [
                            { role: "user", content: message },
                        ];
                        const response = await generateResponse(prompt);
                        document.getElementById("result").textContent += response;
                    };
                    reader.readAsArrayBuffer(file);
                });
            </script>
            <py-env>
                - scikit-learn
                </py-env>
            <py-config>
                packages = ["scikit-learn"]
            </py-config>
              
            <py-script>
                from sklearn.feature_extraction.text import CountVectorizer
                from sklearn.model_selection import train_test_split
                from sklearn.tree import DecisionTreeClassifier
                from js import parsePdf
                
                def train_and_rate():
                    # initializing variables needed to read data from files, including data_array with
                    # all the training data
                    data_array = ["Accomplished professional with a proven track record of success.",
                        "Strong leadership skills demonstrated through effective team management.",
                        "Excellent problem-solving abilities with a strategic mindset.",
                        "Exceptional communication skills, both written and verbal.",
                        "Highly organized and detail-oriented with a strong focus on accuracy.",
                        "Demonstrated ability to meet deadlines and deliver results.",
                        "Proactive and self-motivated individual with a strong work ethic.",
                        "Adaptable and quick to learn new technologies and processes.",
                        "Strong analytical skills with the ability to make data-driven decisions.",
                        "Proficient in project management methodologies and tools.",
                        "Expertise in developing and implementing innovative solutions.",
                        "Extensive experience in cross-functional collaboration.",
                        "Successful track record of exceeding customer expectations.",
                        "Proven ability to manage multiple projects simultaneously.",
                        "Demonstrated ability to build and maintain strong client relationships.",
                        "Skilled in conducting market research and competitor analysis.",
                        "Proficient in budget management and cost control.",
                        "Strong knowledge of industry regulations and compliance.",
                        "Exceptional presentation and public speaking skills.",
                        "Detail-oriented with a high degree of accuracy in all tasks.",
                        "Effective problem-solving skills with a focus on finding practical solutions.",
                        "Highly skilled in data analysis and interpretation.",
                        "Proficient in Microsoft Office Suite (Word, Excel, PowerPoint, Outlook).",
                        "Strong ability to work effectively in a team environment.",
                        "Excellent time management skills and ability to prioritize tasks.",
                        "Demonstrated ability to work well under pressure.",
                        "Proven track record of achieving sales targets.",
                        "Strong negotiation and persuasion skills.",
                        "Experienced in contract negotiation and management.",
                        "Solid understanding of financial principles and concepts.",
                        "Proficient in using CRM software for sales and customer management.",
                        "Detail-oriented with a focus on quality control.",
                        "Strong understanding of marketing strategies and tactics.",
                        "Creative thinker with the ability to generate innovative ideas.",
                        "Skilled in content creation and copywriting.",
                        "Proficient in social media management and marketing.",
                        "Strong understanding of SEO principles and best practices.",
                        "Experienced in conducting market research and analysis.",
                        "Excellent interpersonal skills with the ability to build rapport.",
                        "Demonstrated ability to lead and motivate a team.",
                        "Skilled in conflict resolution and problem-solving.",
                        "Proven ability to work effectively in a multicultural environment.",
                        "Strong understanding of organizational development and change management.",
                        "Experienced in strategic planning and execution.",
                        "Proficient in performance management and employee development.",
                        "Highly skilled in talent acquisition and recruitment.",
                        "Excellent knowledge of employment laws and regulations.",
                        "Effective in conducting interviews and assessments.",
                        "Proven ability to develop and deliver training programs.",
                        "Skilled in employee relations and conflict resolution.",
                        "Strong understanding of HRIS systems and software.",
                        "Exceptional organizational skills with the ability to multitask.",
                        "Detail-oriented with a focus on accuracy and quality.",
                        "Experienced in managing and maintaining confidential information.",
                        "Proficient in data entry and record keeping.",
                        "Excellent customer service skills with a focus on customer satisfaction.",
                        "Strong problem-solving abilities with a customer-centric approach.",
                        "Skilled in handling customer complaints and resolving issues.",
                        "Proven ability to upsell and cross-sell products and services.",
                        "Effective in building and maintaining long-term customer relationships.",
                        "Exceptional written and verbal communication skills.",
                        "Detail-oriented with a focus on grammar and punctuation.",
                        "Proficient in proofreading and editing documents.",
                        "Skilled in content creation and copy editing.",
                        "Strong understanding of digital marketing principles.",
                        "Experienced in managing social media platforms.",
                        "Proficient in email marketing and automation tools.",
                        "Excellent knowledge of web analytics and reporting.",
                        "Detail-oriented with a focus on visual design and aesthetics.",
                        "Skilled in using graphic design software (e.g., Adobe Photoshop, Illustrator).",
                        "Strong understanding of UX/UI principles and best practices.",
                        "Experienced in designing user interfaces and user experiences.",
                        "Proficient in front-end web development (HTML, CSS, JavaScript).",
                        "Excellent knowledge of responsive design and mobile optimization.",
                        "Detail-oriented with a focus on system security and data privacy.",
                        "Skilled in implementing and managing cybersecurity measures.",
                        "Strong understanding of network protocols and infrastructure.",
                        "Experienced in conducting vulnerability assessments and penetration testing.",
                        "Proficient in configuring and managing firewalls and security systems.",
                        "Excellent knowledge of cloud computing and virtualization technologies.",
                        "Detail-oriented with a focus on system administration and maintenance.",
                        "Skilled in troubleshooting and resolving technical issues.",
                        "Strong understanding of database management systems.",
                        "Experienced in SQL query optimization and database performance tuning.",
                        "Proficient in programming languages (e.g., Python, Java, C++).",
                        "Excellent knowledge of software development methodologies.",
                        "Detail-oriented with a focus on software testing and quality assurance.",
                        "Skilled in using testing frameworks and tools.",
                        "Strong understanding of agile project management methodologies.",
                        "Experienced in leading software development teams.",
                        "Proficient in version control systems (e.g., Git, SVN).",
                        "Excellent knowledge of cloud platforms and services (e.g., AWS, Azure).",
                        "Detail-oriented with a focus on system integration and deployment.",
                        "Skilled in designing and implementing scalable architectures.",
                        "Strong understanding of big data processing and analysis.",
                        "Experienced in working with large datasets and data pipelines.",
                        "Proficient in machine learning algorithms and techniques.",
                        "Excellent knowledge of natural language processing (NLP) technologies.",
                        "Detail-oriented with a focus on data visualization and storytelling.",
                        "Skilled in using data analytics tools (e.g., Tableau, Power BI).",
                        "Unmotivated individual with a lackluster work history.",
                        "Poor communication skills, both written and verbal.",
                        "Inconsistent attention to detail with a tendency to make errors.",
                        "Difficulty meeting deadlines and achieving desired outcomes.",
                        "Lack of initiative and self-motivation.",
                        "Resistant to change and slow to learn new technologies.",
                        "Weak analytical skills and inability to make data-driven decisions.",
                        "Limited knowledge of project management methodologies and tools.",
                        "Ineffective at developing and implementing solutions.",
                        "Lack of experience in cross-functional collaboration.",
                        "Inconsistent in meeting customer expectations.",
                        "Difficulty managing multiple projects simultaneously.",
                        "Struggles to build and maintain client relationships.",
                        "Limited skills in conducting market research and competitor analysis.",
                        "Ineffective at budget management and cost control.",
                        "Poor understanding of industry regulations and compliance.",
                        "Weak presentation and public speaking skills.",
                        "Lack of attention to detail and a tendency to overlook important tasks.",
                        "Poor problem-solving skills and reliance on others for solutions.",
                        "Limited knowledge of Microsoft Office Suite (Word, Excel, PowerPoint, Outlook).",
                        "Difficulty working effectively in a team environment.",
                        "Poor time management skills and struggles with task prioritization.",
                        "Easily overwhelmed and unable to perform well under pressure.",
                        "Inconsistent track record of achieving sales targets.",
                        "Weak negotiation and persuasion skills.",
                        "Limited experience in contract negotiation and management.",
                        "Lack of understanding of financial principles and concepts.",
                        "Inefficient use of CRM software for sales and customer management.",
                        "Inconsistent attention to detail in quality control.",
                        "Limited understanding of marketing strategies and tactics.",
                        "Lack of creativity and inability to generate innovative ideas.",
                        "Ineffective content creation and copywriting skills.",
                        "Limited proficiency in social media management and marketing.",
                        "Weak understanding of SEO principles and best practices.",
                        "Inconsistent in conducting market research and analysis.",
                        "Poor interpersonal skills and struggles to build rapport.",
                        "Difficulty leading and motivating a team.",
                        "Ineffective conflict resolution and problem-solving abilities.",
                        "Limited ability to work in a multicultural environment.",
                        "Weak understanding of organizational development and change management.",
                        "Limited experience in strategic planning and execution.",
                        "Ineffective performance management and employee development skills.",
                        "Poor talent acquisition and recruitment abilities.",
                        "Limited knowledge of employment laws and regulations.",
                        "Ineffective in conducting interviews and assessments.",
                        "Lack of ability to develop and deliver training programs.",
                        "Limited understanding of employee relations and conflict resolution.",
                        "Weak understanding of HRIS systems and software.",
                        "Inconsistent organizational skills and difficulty multitasking.",
                        "Lack of attention to detail in maintaining confidential information.",
                        "Poor data entry and record-keeping skills.",
                        "Weak customer service skills and inability to satisfy customers.",
                        "Ineffective problem-solving skills with a customer-centric approach.",
                        "Limited ability to handle customer complaints and resolve issues.",
                        "Lack of ability to upsell and cross-sell products and services.",
                        "Ineffective at building and maintaining long-term customer relationships.",
                        "Poor written and verbal communication skills.",
                        "Lack of attention to detail in grammar and punctuation.",
                        "Limited proficiency in proofreading and editing documents.",
                        "Ineffective in content creation and copy editing.",
                        "Weak understanding of digital marketing principles.",
                        "Limited knowledge of social media platforms and management.",
                        "Inconsistent email marketing and automation skills.",
                        "Poor knowledge of web analytics and reporting.",
                        "Lack of attention to detail in visual design and aesthetics.",
                        "Limited skills in using graphic design software (e.g., Adobe Photoshop, Illustrator).",
                        "Weak understanding of UX/UI principles and best practices.",
                        "Ineffective in designing user interfaces and user experiences.",
                        "Limited proficiency in front-end web development (HTML, CSS, JavaScript).",
                        "Poor knowledge of responsive design and mobile optimization.",
                        "Lack of attention to system security and data privacy.",
                        "Limited skills in implementing and managing cybersecurity measures.",
                        "Weak understanding of network protocols and infrastructure.",
                        "Ineffective in conducting vulnerability assessments and penetration testing.",
                        "Lack of proficiency in configuring and managing firewalls and security systems.",
                        "Limited knowledge of cloud computing and virtualization technologies.",
                        "Inconsistent attention to system administration and maintenance.",
                        "Weak troubleshooting and resolution of technical issues.",
                        "Limited understanding of database management systems.",
                        "Ineffective in SQL query optimization and database performance tuning.",
                        "Lack of proficiency in programming languages (e.g., Python, Java, C++).",
                        "Weak knowledge of software development methodologies.",
                        "Inconsistent attention to software testing and quality assurance.",
                        "Limited skills in using testing frameworks and tools.",
                        "Weak understanding of agile project management methodologies.",
                        "Lack of experience in leading software development teams.",
                        "Inefficient use of version control systems (e.g., Git, SVN).",
                        "Limited knowledge of cloud platforms and services (e.g., AWS, Azure).",
                        "Inconsistent attention to system integration and deployment.",
                        "Weak skills in designing and implementing scalable architectures.",
                        "Limited understanding of big data processing and analysis.",
                        "Ineffective in working with large datasets and data pipelines.",
                        "Lack of proficiency in machine learning algorithms and techniques.",
                        "Weak knowledge of natural language processing (NLP) technologies.",
                        "Inconsistent attention to data visualization and storytelling.",
                        "Limited skills in using data analytics tools (e.g., Tableau, Power BI).",
                        "Lack of attention to detail in project documentation and reporting.",
                        "Ineffective in collaborating with cross-functional teams.",
                        "Limited ability to adapt to changing technologies and trends.",
                        "Poor overall performance and lack of achievements."]
                    
                    results_array = [1] * 100 + [0] * 100
                    num_lines = 200
                
                    # getting new data from user's portfolio        
                    for line in str(parsePdf):
                        data_array.append(line)
                        results_array.append(0)
                        num_lines += 1
                    
                    # vectorizing data
                    cv = CountVectorizer()
                    vectorized = cv.fit_transform(data_array)
                
                    # splitting data into training and test
                    X_train, X_test, y_train, _ = train_test_split(vectorized.toarray(), results_array, train_size=(200 / num_lines))
                
                    # building decision tree classifier with criterion="entropy" and max_depth=5
                    # these paramters were chosen after testing various paramters with test data 
                    clf = DecisionTreeClassifier(criterion="entropy", max_depth=5)
                    clf.fit(X_train, y_train)
                    
                    # generate a score out of 5 (rounded to 2 decimal places) for the user's portfolio
                    score = clf.predict(X_test)
                    return round((sum(score) / len(score)) * 5, 2)
                
                if __name__ == "__main__":
                    print("Your portfolio rating out of 100 is " + str(float(train_and_rate()) * 100))
            </py-script>
</body>

</html>
